create database la_tem;

use la_tem;

create table usuario(
id_usuario int primary key auto_increment,
nome varchar(60) not null,
nome_social varchar(60),
senha varchar(20) not null,
cpf char(11) not null,
constraint unique_cpf_usuario unique (cpf),
email varchar(60) not null,
constraint unique_email_usuario unique (email),
constraint foreign_key_avatar_usuario foreign key (avatar_fk) references avatar (id_avatar),
rua varchar(60) not null,
bairro varchar(40) not null,
numero varchar(4) not null,
cep varchar(8) not null,
cidade varchar(60) not null,
uf char(2),
pais varchar(60) not null,
telefone numeric(9) not null,
ddd char(2) not null,
codigo_de_pais char(2) not null
);

create table empresa(
id_empresa int primary key auto_increment,
nome varchar(100) not null,
razao_social varchar(100) not null,
senha varchar(20) not null,
email varchar(60) not null,
constraint unique_email_empresa unique (email),
ramo_atuacao varchar(30) not null,
cnpj char(14) not null,
rua varchar(60) not null,
bairro varchar(40) not null,
numero varchar(4) not null,
cep varchar(8) not null,
cidade varchar(60) not null,
uf char(2),
pais varchar(60) not null,
telefone numeric(9) not null,
ddd char(2) not null,
codigo_de_pais char(2) not null
);

create table imagem_produto(
id_imagem_produto int primary key auto_increment,
imagem_nome varchar(40) not null);

create table produto(
id_produto int primary key auto_increment,
nome varchar(60) not null,
categoria varchar(45) not null,
imagem_nome_fk int not null,
constraint foreign_key_imagem_produto foreign key (imagem_nome_fk) references imagem_produto (id_imagem_produto),
empresa_fk int not null,
constraint foreign_key_empresa_produto foreign key (empresa_fk) references empresa (id_empresa)
);